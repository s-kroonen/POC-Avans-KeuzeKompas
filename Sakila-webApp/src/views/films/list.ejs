<% layout('layout') -%>
<h1 class="mb-4">Films</h1>
<table class="table table-striped table-hover">
 <thead>
 <tr>
 <th>ID</th>
 <th>Title</th>
 <th>Year</th>
 <th>Language</th>
 <th>Length</th>
 <th>Rating</th>
 </tr>
 </thead>
 <tbody>
 <% films.forEach(function (f) { %>
 <tr>
 <td><%= f.film_id %></td>
 <td><a href="/films/<%= f.film_id %>"><%= f.title %></a></td>
 <td><%= f.release_year || '-' %></td>
 <td><%= f.language_name %></td>
 <td><%= f.length %> min</td>
 <td><%= f.rating %></td>
 </tr>
<% }) %>
 </tbody>
</table>
<nav aria-label="Page navigation">
 <ul class="pagination">
 <li class="page-item <%= page === 1 ? 'disabled' : '' %>"><a class="pagelink" href="/films?page=<%= page - 1 %>">Previous</a></li>
 <% for (var p = 1; p <= totalPages; p++) { %>
 <li class="page-item <%= p === page ? 'active' : '' %>"><a class="pagelink" href="/films?page=<%= p %>"><%= p %></a></li>
 <% } %>
 <li class="page-item <%= page === totalPages ? 'disabled' : '' %>"><a
class="page-link" href="/films?page=<%= page + 1 %>">Next</a></li>
 </ul>
</nav>
