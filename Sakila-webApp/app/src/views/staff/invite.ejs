<h2 class="mb-4">Invite Staff</h2>

<% if (typeof error !== 'undefined') { %>
  <div class="alert alert-danger">
    <%= error %>
  </div>
<% } %>

<form method="POST" action="/staff/invite" class="needs-validation" novalidate>
  <div class="mb-3">
    <label for="email" class="form-label">Staff Email</label>
    <input type="email" class="form-control" id="email" name="email" placeholder="Staff Email" required>
    <div class="invalid-feedback">
      Please enter a valid email.
    </div>
  </div>

  <div class="mb-3">
    <label for="first_name" class="form-label">First Name</label>
    <input type="text" class="form-control" id="first_name" name="first_name" placeholder="First Name" required>
    <div class="invalid-feedback">
      Please enter first name.
    </div>
  </div>

  <div class="mb-3">
    <label for="last_name" class="form-label">Last Name</label>
    <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Last Name" required>
    <div class="invalid-feedback">
      Please enter last name.
    </div>
  </div>

  <div class="mb-3">
    <label for="store_id" class="form-label">Store</label>
    <select class="form-select" id="store_id" name="store_id" required>
      <option value="">Select Store</option>
      <% stores.forEach(function(store) { %>
        <option value="<%= store.id %>">Store <%= store.id %></option>
      <% }) %>
    </select>
    <div class="invalid-feedback">
      Please select a store.
    </div>
  </div>

  <div class="form-check mb-2">
    <input class="form-check-input" type="checkbox" id="is_admin" name="is_admin" value="1">
    <label class="form-check-label" for="is_admin">Admin</label>
  </div>

  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" id="is_manager" name="is_manager" value="1">
    <label class="form-check-label" for="is_manager">Manager</label>
  </div>

  <button type="submit" class="btn btn-primary">Invite Staff</button>
</form>

<script>
  // Bootstrap client-side validation
  (function () {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')
    Array.from(forms).forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })()
</script>
